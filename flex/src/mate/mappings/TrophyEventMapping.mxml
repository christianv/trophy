<?xml version="1.0" encoding="utf-8"?>
<EventMap xmlns:fx="http://ns.adobe.com/mxml/2009"
		  xmlns="http://mate.asfusion.com/">
	<fx:Script>
		<![CDATA[
			import mate.business.*;
			import mate.events.*;

			import views.*;
		]]>
	</fx:Script>
	<fx:Declarations>
		<Debugger level="{Debugger.ALL}" />
		<EventHandlers debug="true" type="{LanguageEvent.GETLOCALE}" >
			<PropertyGetter generator="{LanguageManager}" targetKey="locale" />
		</EventHandlers>
		<EventHandlers debug="true" type="{LanguageEvent.SETLOCALE}">
			<PropertySetter generator="{LanguageManager}" targetKey="locale" sourceKey="locale" />
			<MethodInvoker generator="{mainsearch}" method="languageChanged" />
		</EventHandlers>

		<EventHandlers debug="true" type="{RegisterEvent.REGISTER}">
			<RemoteObjectInvoker destination="amfphp"
							showBusyCursor="true" source="controllers">
				<resultHandlers>
					<MethodInvoker generator="{TrophyManager}" method="registerUser"
								   arguments="{resultObject}" />
				</resultHandlers>
				<faultHandlers>
					<MethodInvoker generator="{TrophyManager}" method="HandleFault"
								   arguments="{fault}" />
				</faultHandlers>
			</RemoteObjectInvoker>
		</EventHandlers>

		<Injectors target="{mainsearch}">
			<PropertyInjector targetKey="locale" source="{LanguageManager}"
							  sourceKey="locale" />
		</Injectors>
	</fx:Declarations>
</EventMap>